#include <bits/stdc++.h>
#define fast ios_base::sync_with_stdio(false); cin.tie(nullptr); cout.tie(nullptr);
using namespace std;

int main() 
{ fast;
    int n;
    cin>>n;
    multiset<int> ms;
    for(int i=0; i<n; ++i) {
      int x; cin>>x;
      ms.insert(x);
    }
    int q;
    cin>>q;
    while (q--) {
      int t,x;
      cin>>t>>x;
      if (t==1) ms.insert(x);
      if (t==2) {
        auto it = ms.find(x);
        if( it != ms.end()) ms.erase(it); //
      }
      if (t==3) {
        auto it = ms.find(x); 
        if ( it != ms.end()) cout<<"YES"<<endl;
        else cout<<"NO"<<endl;
      }
    }
    
    return 0;
}
 /* DYNAMIC SET: THÊM/XÓA/TRUY VẤN

- DẤU HIỆU:  liên tục thay đổi dữ liệu ( insert, erase)
   + truy vấn nhanh: kt tồn tại, tìm ptu gần nhất, tìm min/max, đếm số <= x
   + giá trị trùng nhau -> multiset/multimap

- BẢN CHẤT: duy trì cấu trúc thay đổi liên tục nhưng có thể trl ? immediately

- CTDL PHÙ HỢP: multiset,set,map, 
  nâng cao (CHƯA HỌC): fenwick tree/ segment tree dạng <= x

- THAO TÁC:
multiset<int> ms;
// insert
ms.insert(x);
// delete 1 occurrence
auto it = ms.find(x);
if (it != ms.end()) ms.erase(it);
// query exists
(ms.find(x) != ms.end())

- BÀI CÙNG PATTERN:
+ kt tồn tại ptu
+ lower_bound, upper_bound
+ tìm min/max động
+ đếm ptu <=x (fenwick tree)

- LỖI HAY SAI: + erase(x) xóa tất cả -> iterator xóa 1
+ ko kt it == ms.end() -> bị lỗi
+ quên xử lí nhiều bản sao có cùng gtri

Dữ liệu thay đổi → phải dùng cấu trúc hỗ trợ thao tác O(log N).



*/




























